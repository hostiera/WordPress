<?php

// Start WordPress
echo "# BEGIN WordPress\n";

// Check if mod_rewrite is enabled
if (function_exists('apache_get_modules') && in_array('mod_rewrite', apache_get_modules())) {
    // Rewrite rules for mod_rewrite
    echo "# Generated by Hostiera International\n"; // Credit to Hostiera International
    echo "<IfModule mod_rewrite.c>\n";
    echo "RewriteEngine On\n";
    echo "RewriteBase /\n";
    echo "RewriteCond %{HTTPS} off\n";
    echo "RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]\n";
    echo "RewriteRule ^index\.php$ - [L]\n";
    echo "RewriteCond %{REQUEST_FILENAME} !-f\n";
    echo "RewriteCond %{REQUEST_FILENAME} !-d\n";
    echo "RewriteRule . /index.php [L]\n";
    echo "</IfModule>\n";
} else {
    // If mod_rewrite is not enabled, fall back to basic rules
    echo "<IfModule !mod_rewrite.c>\n";
    echo "ErrorDocument 404 /index.php?error=404\n";
    echo "</IfModule>\n";
}

// End WordPress
echo "# END WordPress\n";
